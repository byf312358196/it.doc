  《代码整洁之道》出版于2008年，近年来，一直被列为“亚马逊最畅销的五本书”之一。本书作者被亲切的成为Bob叔叔，他是《敏捷宣言》的原作者之一，资历非常丰富。本书在Foodreads上评分为4.4（评分超13000）。可以说，这是一本程序员的比读书。
    本文将本书精简为五个要点。
    1. 尊重抽象
    《代码整洁之道》中写到：如果要确保函数仅做一件事，则需要确保每个函数的语句都唯一同一抽象层次。
    为说明这一点，马丁用了以下示例（出自FitNesse）
    public String render() throws Exception
    {
      StringBuffer html = new StringBuffer("<hr");
      if (size > 0)
        html.append("size =").append(size+1).append("\"")
      html.append(">");
      return html.toString();
    }
    
    public String render() throws Exception
    {
      HtmlTag hr = new HtmlTag("hr")
      if(extraDasher> 0)
        hr.addAttribute("size", hrSize(extraDashes));
       return ht.html()
    }
    
    public String hrSize(int height)
    {
      int hrSize = height + 1
      return String.format("%d", hrSize)
    }
    
    在Github上查看abstraction.java源代码
    注意：
    Render函数现在仅负责构建hr标签
    将构建标签的底层详细信息的任务转给HtmlTag模块
    大小格式被抽象为独立的函数
    马丁认为：
    分离抽象层次是重构重要的功能之一，也是最难实现的功能之一
    当然，在以后的代码中，我会有更多的考虑
    
    2. 整洁diamante关乎规则，要花大量精力
      我不希望本文近视列出编写整洁代码的要点和规则。对本书而言这也无甚作用——因为采取教条式的教学方法是远远不够的。
     
     相反，在本书中马丁呼吁发展强烈的个人原则感，且不断说明“脏代码”变整洁所需要的的努力和职责。本书将其成为“代码干”，他要求“严格使用艰难获得整洁代码的大量小技巧”
     
     整洁代码并非遵循一组规则编写的，不可能因为学习一套金规玉律就成为软件大师。专注精神和手工艺来自于推动规则形成的价值。——罗比特C马丁
     
     就个人而言，我没什么自信，所以很喜欢这种说法。就连Bob叔叔都坚信编写代码是一个需要严肃自律的工作，要花费大量精力，真是极大的安慰。为了真正善于整洁代码，我们需要迭代我们作为程序员的跟人开发及代码的开发
     
     3. 代码尽量精简
      函数的首要规则是体积小，第二规则是使其尽可能的变小  罗伯特 C 马丁
      这里有两个含义：
      - 函数本身应该简短——几乎不超过20行吗，大多数情况下少于10行
      - 函数应尽可能不要采用参数
      
      简洁函数能增加代码的易读性，这也使我们倾向于编写功能单一高效的函数
      对于类，他也有类似的看法他家一使用职责而非代码行来衡量类的大小，即一个类应该只有一个职责，这就是所谓的单一职责原则SRP
      保持代码短是 划分策略，如果一个大文件包含大量冗长而负责的代码，则可以将该文件分为多个模块，将模块分为多个函数，再讲函数分为多个子函数，直至看到代码逻辑和任务
      
     4 编程是工艺
     我时常认为，将编程比喻为建筑和构造并不恰当。以内程序员不会做一个完整的设计，从头开始建基，在一步步搭建直至完工。
     
     编程的步骤是：先画草图，在反复添加细节，程序员要做的是修改，完善和扩展——这些都在各抽象层次上完成，直至软件满足要求为止，而软件永远不会真正完成，。
     
     这就是《代码整洁之道》的中心思想。贯穿全书的要点是：软件是一门艺术，做软件就像画画，作者认为编程的本质就是一门工艺
     
     但如何让编程从单纯的写代码编程工艺呢
     
     马丁认为，程序员账务的主要工具是持续重构和测试驱动开发TDD，两者就像硬币的两面一样协同，来看一些概念：
     
     重构是在不更改输出的情况下调整现有计算机代码结构的过程。
     测试驱动开发是将需求装换为特定的测试用例，在添加代码以使测试通过的程度。
     因此，制作软件的过程可能如下所示：
     1 编写测试代码以验证所需但未实现的功能
     2 编写有效代码（可能不整洁），冰通过测试
     3 逐步重构代码（保证每次通过测试），使代码在么诶次开发迭代中都更加清晰
     
     不要想着一次性编程后系统就能正确，漂亮的运行。今日的任务仅仅是让程序运行起来，而重构和扩展系统是明天的任务，这是迭代和增量敏捷的本质
     
     罗伯特 C 马丁
     
     5 代码本身清晰易读
     注释很少却清晰，表达力强的代码优于注释多的混乱，负责的代码
     在注释、有意义的命名和格式一章中，马丁强烈主张代码本身应该清晰易读，示例
     
     // Check to see if theemployee is eligible full benefits
     if ((employee.flags & HOURLY_FLAG) && (employee.age > 55_
     
     将其重构为
     
     if (employee.isEligibleForFullBenefits())
     
     注意：
     删除注释
     条件逻辑封装到一个方法中
     因为使用的是方法而不是独立函数，因此可以使用示例变量，从而创建调用领参数的方法
     给方法起一个描述性的名称，使其职责更加明确
     
     
     代码整洁之道关于命名写了整整一个张杰，本质上是对Tim Ottinger规则的详细说明。包括：
      - 设置高可读性的名称，例如，int elapsedTimeInDays,而不是in days
      - 避免使用编码——不要前缀m_表示members，也不要用匈牙利表示法
      - 每个概念对应一个词——不要fetch，retrieve，get多个概念对应一个词
      
      
     
     
     
     
